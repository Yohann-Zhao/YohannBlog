<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CPL Flight Planning and Performance | Yohann Aviation Note</title>
  <meta name="author" content="Yohann Aviation Note" />
  <meta name="description" content="Compact, searchable, and print-friendly CPL Flight Operations, Planning & Performance (CFPA 1–4): atmospherics, runway/performance, W&B, climb/cruise/descent, fuel policy, ETP/PNR." />

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-G3TQJTQ67B"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);} 
  gtag('js', new Date());
  gtag('config', 'G-G3TQJTQ67B');
  </script>

  <style>
    /* ===== Light Blue Theme (unified with CADA/IREX) ===== */
    :root{
      --bg:#f5f9ff; --bg-1:#eef5ff; --panel:#fff; --card:#fff;
      --text:#1f2a44; --muted:#5b6b80; --brand:#1976d2; --brand-2:#64b5f6;
      --warn:#f59e0b; --danger:#ef4444; --ok:#0ea5e9;
      --border:#e6eef8; --border-dashed:#d7e5fb;
      --shadow:0 8px 28px rgba(25,118,210,.12), 0 2px 10px rgba(15,23,42,.06);
      --radius:16px; --fs-base:16px; --maxw:980px; --appbarH:84px;
      --scrollbar-track:#f1f6ff; --scrollbar-thumb:#c9ddfb; --scrollbar-thumb-hover:#aaceff;
    }
    [id]{ scroll-margin-top: var(--appbarH, 84px); }
    html{ font-size:var(--fs-base); }
    body{
      margin:0; font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      color:var(--text);
      background:
        radial-gradient(1200px 600px at 10% -10%, #eaf3ff 0%, rgba(234,243,255,0) 60%),
        radial-gradient(800px 520px at 95% -10%, #f0f7ff 0%, rgba(240,247,255,0) 60%),
        linear-gradient(180deg, var(--bg), var(--bg-1) 60%, #f7fbff 100%);
    }

    /* Appbar */
    header.appbar{
      position:sticky; top:0; z-index:100;
      backdrop-filter:saturate(150%) blur(10px);
      background:rgba(255,255,255,.86);
      border-bottom:1px solid var(--border);
      box-shadow:0 4px 18px rgba(30,64,175,.08);
    }
    .wrap{ max-width:var(--maxw); margin:0 auto; padding:10px 16px; }
    .appbar .row{ display:grid; grid-template-columns:1fr auto; gap:8px; align-items:center; }

    /* Title */
    h1.title{
      font-size:clamp(18px, 1.1rem + 0.4vw, 22px);
      margin:0; letter-spacing:.2px; line-height:1.1;
      display:inline-flex; align-items:baseline; gap:10px; flex-wrap:nowrap;
      white-space:nowrap; overflow:hidden; text-overflow:ellipsis; justify-self:start;
    }
    h1.title .author{
      font-size:.8em; color:var(--muted); font-weight:700;
      border:1px solid var(--border); padding:2px 10px; border-radius:999px;
      background:#f8fbff; cursor:pointer; text-decoration:none;
      display:inline-flex; align-items:center; gap:6px;
      transition:box-shadow .15s ease, border-color .15s ease, transform .02s ease;
    }
    h1.title .author:hover{ border-color:#cfe0fb; box-shadow:0 6px 16px rgba(25,118,210,.12); }
    h1.title .author:active{ transform:translateY(1px); }

    /* Controls */
    .controls{
      isolation:isolate; display:grid;
      grid-template-columns:auto 1fr auto; align-items:center; gap:10px; width:100%;
    }
    .controls > *{ position:relative; z-index:1; }
    .chip, button, select{
      background:var(--panel); color:var(--text); border:1px solid var(--border);
      border-radius:999px; padding:8px 12px; box-shadow:var(--shadow);
      font-weight:600; cursor:pointer; transition:border-color .15s ease, box-shadow .15s ease, transform .02s ease;
    }
    .chip:hover, button:hover, select:hover{ border-color:#cfe0fb; }
    .chip:active, button:active{ transform:translateY(1px); }
    .chip:focus-visible, button:focus-visible, select:focus-visible{ outline:3px solid rgba(25,118,210,.25); outline-offset:2px; }

    /* Search */
    .search{ z-index:0; position:relative; min-width:0; }
    .search input{
      width:100%; background:var(--panel); color:var(--text);
      border:1px solid var(--border); outline:none;
      padding:10px 12px 10px 36px; border-radius:999px; box-shadow:var(--shadow);
      background-clip:padding-box;
    }
    .search input::placeholder{ color:#7d8aa4; }
    .search svg{ position:absolute; left:10px; top:50%; transform:translateY(-50%); opacity:.7; pointer-events:none; color:#5d90da; }

    /* Layout / TOC */
    #toc-select{ min-width:112px; width:max-content; max-width:34vw; overflow:hidden; text-overflow:ellipsis; white-space:nowrap; appearance:none; padding-right:28px; }
    .grid{ display:grid; grid-template-columns:1fr; gap:18px; padding:16px; }
    @media (min-width:920px){
      .appbar .row{ grid-template-columns:1fr auto; }
      .grid{ grid-template-columns:260px 1fr; align-items:start; }
    }
    nav.toc{
      position:sticky; top:68px; align-self:start; background:var(--panel);
      border:1px solid var(--border); border-radius:var(--radius); padding:12px; box-shadow:var(--shadow);
      max-height:calc(100vh - 96px); overflow:auto; scrollbar-gutter:stable; scrollbar-width:thin;
      scrollbar-color:var(--scrollbar-thumb) var(--scrollbar-track);
    }
    nav.toc::-webkit-scrollbar{ width:10px; }
    nav.toc::-webkit-scrollbar-track{ background:var(--scrollbar-track); border-radius:10px; }
    nav.toc::-webkit-scrollbar-thumb{ background:linear-gradient(180deg, var(--scrollbar-thumb), #b7d2ff); border-radius:10px; border:2px solid var(--scrollbar-track); }
    nav.toc::-webkit-scrollbar-thumb:hover{ background:var(--scrollbar-thumb-hover); }
    nav.toc h2{ margin:6px 8px 8px; font-size:14px; color:var(--muted); text-transform:uppercase; letter-spacing:.12em; }
    nav.toc a{ display:block; padding:8px 10px; margin:4px 0; text-decoration:none; color:var(--text); border-radius:10px; border:1px dashed transparent; }
    nav.toc a:hover{ background:linear-gradient(90deg, rgba(25,118,210,.10), rgba(25,118,210,0) 85%); border-color:var(--border-dashed); }
    nav.toc .sub{ margin-left:10px; font-size:.94em; color:var(--muted); }
    nav.toc .sub2{ margin-left:22px; font-size:.90em; color:var(--muted); }
    #toc-select{ display:none; }
    @media (max-width:919px){
      header.appbar .wrap{ padding:6px 12px; }
      h1.title{ font-size:18px; gap:8px; justify-self:center; text-align:center; }
      h1.title .author{ font-size:.74em; padding:1px 6px; }
      nav.toc{ display:none !important; }
      #toc-select{ display:inline-flex; font-size:14px; max-width:30vw; }
      .controls{ gap:8px; grid-template-columns:auto minmax(120px,1fr) minmax(96px,max-content); }
      .search input{ padding:8px 10px 8px 30px; }
      button#go-back{ padding:6px 10px; font-size:14px; }
    }

    /* Cards / Content */
    section.card{
      background:var(--card); border:1px solid var(--border); border-radius:var(--radius);
      padding:16px; box-shadow:var(--shadow);
    }
    section.card h2{ margin-top:0; display:flex; align-items:center; gap:10px; }
    section.card h3{ margin-top:1.1em; }
    .badge{ display:inline-flex; align-items:center; gap:6px; padding:4px 8px; border-radius:999px; border:1px solid var(--border); background:#f4f9ff; font-size:.85em; color:var(--brand); font-weight:700; }
    .tag{ color:var(--muted); font-weight:600; text-transform:uppercase; font-size:.78em; letter-spacing:.12em; }
    .warn{ color:var(--warn); font-weight:700; }
    .danger{ color:var(--danger); font-weight:700; }
    .ok{ color:var(--ok); font-weight:700; }
    .muted{ color:var(--muted); }
    .kv{ display:grid; grid-template-columns:1fr; gap:8px; }
    @media (min-width:720px){ .kv{ grid-template-columns:repeat(2,minmax(0,1fr)); } }
    ul.check{ list-style:none; padding:0; margin:.25rem 0 1rem; }
    ul.check li{ padding:6px 8px; border-left:3px solid transparent; }
    ul.check li + li{ border-top:1px dashed var(--border); }
    ul.check li[data-type="flow"]{ border-left-color:var(--brand); background:linear-gradient(90deg, rgba(25,118,210,.08), transparent); }
    ul.check li[data-type="callout"]{ border-left-color:var(--warn); background:linear-gradient(90deg, rgba(245,158,11,.14), transparent); }

    details{ border:1px solid var(--border); border-radius:12px; padding:10px 12px; background:linear-gradient(180deg, rgba(25,118,210,.04), rgba(255,255,255,0)); }
    details > summary{ cursor:pointer; font-weight:700; list-style:none; }
    details[open]{ background:linear-gradient(180deg, rgba(100,181,246,.16), rgba(255,255,255,0)); }

    /* Links / marks */
    main a[href]{
      position:relative; text-decoration:underline; text-decoration-thickness:.06em; text-underline-offset:.18em;
      text-decoration-color:rgba(25,118,210,.35); border-radius:.35em; padding:0 2px;
      transition:color .15s ease, text-decoration-color .15s ease, text-decoration-thickness .15s ease, box-shadow .15s ease, transform .06s ease, background-color .15s ease;
    }
    main a[href]:hover{ color:#0f5fb3; text-decoration-thickness:.14em; text-decoration-color:rgba(25,118,210,.9); background:linear-gradient(transparent 60%, rgba(25,118,210,.18) 0); box-shadow:0 4px 0 rgba(25,118,210,.35) inset; }
    main a[href]:active{ transform:translateY(1px); box-shadow:0 2px 0 rgba(25,118,210,.45) inset; }
    mark.hl{ background:rgba(25,118,210,.22); color:inherit; padding:0 .15em; border-radius:.2em; box-shadow:0 0 0 1px rgba(25,118,210,.18) inset; }

    /* Top button & footer */
    .topbtn{
      position:fixed; bottom:18px; right:18px; width:44px; height:44px; border-radius:50%; display:grid; place-items:center; box-shadow:var(--shadow);
      background:var(--panel); border:1px solid var(--border); cursor:pointer; opacity:.95;
      transition:transform .06s ease, box-shadow .15s ease, border-color .15s ease;
    }
    .topbtn:hover{ border-color:#cfe0fb; box-shadow:0 10px 24px rgba(25,118,210,.18); }
    .topbtn:active{ transform:translateY(1px); }
    footer{ color:var(--muted); text-align:center; padding:24px; }

    /* Print */
    @media print{
      header.appbar, nav.toc, .topbtn{ display:none !important; }
      body{ background:#fff; color:#000; }
      section.card{ break-inside:avoid; box-shadow:none; border-color:#ddd; }
      a{ color:#000; text-decoration:none; }
      th,td{ border-color:#bbb; }
    }
  </style>
</head>
<body>
  <header class="appbar">
    <div class="wrap">
      <div class="row">
        <h1 class="title">
          CPL Flight Planning and Performance
          <a id="brand-link" class="author" href="#" role="link" title="Home · Yohann Aviation Note">Yohann Aviation Note</a>
        </h1>
        <div class="controls">
          <button id="go-back" class="chip" title="Go Back">← Go Back</button>
          <div class="search" aria-label="Search">
            <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
            <input id="q" placeholder="Search (e.g. DA, TODA/TORA, Echo 1.26, CG = (IU×100)/W, ETP/PNR)" aria-label="Search all content" />
          </div>
          <select id="toc-select" aria-label="Contents"></select>
        </div>
      </div>
    </div>
  </header>

  <div class="grid wrap">
    <!-- ====================== FIXED TOC STRUCTURE ====================== -->
    <nav class="toc" aria-label="Table of contents">
      <h2>Contents</h2>
      <a href="#exam-essentials">Exam Essentials</a>

      <a href="#defs">Core Definitions & Regulatory Anchors</a>
      <a href="#defs-runway" class="sub">Runway & Distance Terms</a>
      <a href="#defs-pilot" class="sub">Pilot Responsibilities</a>

      <a href="#atmo">Atmospherics: PH / ISA / DA</a>
      <a href="#aerodromes" class="sub">Aerodromes, ERSA & Markings</a>

      <a href="#perf">Take-off & Landing Performance</a>
      <a href="#perf-cessna" class="sub">Cessna-type Chart Method</a>
      <a href="#perf-linear" class="sub">Linear Chart Method</a>
      <a href="#perf-landing" class="sub">Landing Charts & Echo Notes</a>

      <a href="#wb">Weight & Balance (Alpha / Bravo / Charlie / Echo)</a>
      <a href="#wb-alpha" class="sub">Alpha — Index Run-down</a>
      <a href="#wb-bravo" class="sub">Bravo — W&M (lb·in/1000)</a>
      <a href="#wb-charlie" class="sub">Charlie — IU (kg·mm/100)</a>
      <a href="#wb-echo" class="sub">Echo — Moment Index</a>
      <a href="#wb-traps" class="sub">W&B Quick Traps</a>

      <a href="#climb-cruise-descent">Climb, Cruise & Descent</a>
      <a href="#fuel-policy" class="sub">Fuel Planning & Policy</a>
      <a href="#etp-pnr" class="sub">ETP & PNR</a>

      <a href="#exam-strategy">Exam Strategy & Error-Proofing</a>
      <a href="#quickref" class="sub">Quick Reference — Conversions & Checklists</a>
    </nav>

    <main>
      <section class="card" id="exam-essentials">
        <h2>Exam Essentials <span class="badge">Overview</span></h2>
        <ul class="check">
          <li><strong>Exam:</strong> CFPA (CPL Flight Operations, Planning & Performance). Duration ~1h45m; pass mark 70%.</li>
          <li><strong>Bring:</strong> CASR Parts 91/135 (+ MOS), AC 91-02, current <em>AIP</em>, full <em>ERSA</em>, CR-2/CR-3, basic calculator, nav kit.</li>
          <li><strong>Focus:</strong> Atmospherics (PH/ISA/DA), runway/performance terms, T/O & landing, W&B, climb/cruise/descent, fuel policy, ETP/PNR, conversions.</li>
        </ul>
        <details>
          <summary>Common pitfalls (historical)</summary>
          <ul class="check">
            <li>Mis-reading performance charts; forgetting climb-weight-limit gates.</li>
            <li>Wrong conversions (US gal ↔ L ↔ kg; lb ↔ kg).</li>
            <li>Confusing <strong>TODA/TORA/LDA/ASDA</strong>; using <em>forecast</em> wind for landing instead of actual/NIL.</li>
            <li>Sloppy TAS/ETAS reasoning and climb-gradient math.</li>
          </ul>
        </details>
      </section>

      <section class="card" id="defs">
        <h2>Core Definitions & Regulatory Anchors <span class="badge">CASA</span></h2>
        <h3 id="defs-runway">Runway & Distance Terms</h3>
        <ul class="check">
          <li><strong>TORA</strong> — Take-Off Run Available: full runway length in the take-off direction.</li>
          <li><strong>TODA</strong> — Take-Off Distance Available: TORA + Clearway (CWY).</li>
          <li><strong>ASDA</strong> — Accelerate-Stop Distance Available: TORA + Stopway (SWY).</li>
          <li><strong>LDA</strong> — Landing Distance Available: landing roll from threshold (excludes CWY/SWY).</li>
          <li><strong>TOSS</strong> — Take-off Safety Speed: AFM/POH defined.</li>
        </ul>
        <h3 id="defs-pilot">Pilot Responsibilities</h3>
        <ul class="check">
          <li>Operate per AFM/POH/placards (<span class="tag">Part 91</span>).</li>
          <li>Aerodrome suitability: PIC ensures safe T/O and landing considering aircraft/pilot/field/met.</li>
          <li>Performance rules: AFM limits first; Part 91 MOS Ch 24–25 tables; if AFM has no factors → AC 91-02 v1.1 recommendations (≤2000 kg).</li>
        </ul>
      </section>

      <section class="card" id="atmo">
        <h2>Atmospherics: PH / ISA / DA <span class="badge">Performance Physics</span></h2>
        <ul class="check">
          <li><strong>PH:</strong> (1013 − QNH) × 30 + Elev (1 hPa ≈ 30 ft).</li>
          <li><strong>ISA:</strong> −2°C / 1000 ft (ISA at MSL 15°C).</li>
          <li><strong>ISA dev:</strong> OAT − ISA_at_level.</li>
          <li><strong>DA:</strong> ≈ PH ± (ISA dev × 120 ft/°C). <em>Hotter</em> → DA ↑ → performance ↓.</li>
        </ul>
        <details>
          <summary>Rules of thumb</summary>
          <ul class="check">
            <li>1 hPa ↔ 30 ft; 2°C per 1000 ft; 120 ft/°C for DA.</li>
            <li>Higher DA ⇒ longer TODR/LDR, lower climb.</li>
          </ul>
        </details>
        <h3 id="aerodromes">Aerodromes, ERSA & Markings</h3>
        <ul class="check">
          <li><strong>ERSA:</strong> runways, lighting, strength, services, special procedures.</li>
          <li><strong>Certified vs Uncertified (ALAs):</strong> PIC fully assesses suitability at uncertified sites.</li>
          <li><strong>Markings:</strong> thresholds & displaced thresholds; SWY/CWY and how they affect TORA/TODA/LDA/ASDA.</li>
        </ul>
      </section>

      <section class="card" id="perf">
        <h2>Take-off & Landing Performance <span class="badge">Charts</span></h2>
        <ul class="check">
          <li><strong>Environment:</strong> Temp↑ / Elev↑ / Humidity↑ / QNH↓ ⇒ density↓ ⇒ performance worsens.</li>
          <li><strong>Slope:</strong> up-slope ↑ distance; down-slope ↓ distance (respect AFM limits).</li>
          <li><strong>Surface:</strong> sealed vs short/long grass (dry/wet) — apply AFM/chart factors.</li>
          <li><strong>Wind:</strong> use runway component; headwind helps, tailwind hurts. Obey crosswind limits.</li>
        </ul>

        <h3 id="perf-cessna">Cessna-type (run-around) Chart — Method</h3>
        <ul class="check">
          <li>Compute <strong>PH</strong> and use <strong>Shade Temp</strong>.</li>
          <li>PH → Temp → <strong>Slope</strong> → <strong>Wind</strong> ⇒ limiting TOW (or follow branch for weight/wind).</li>
          <li>For <strong>TODR</strong>: continue to <strong>TODA</strong> box → surface reference line → read <strong>TODR</strong>.</li>
          <li>Compare with <strong>Climb Weight Limit</strong> gate; limiting weight is the lesser of <em>performance chain</em> vs <em>climb limit</em>.</li>
        </ul>

        <h3 id="perf-linear">Linear Chart — Method</h3>
        <ul class="check">
          <li>Shade Temp → Pressure Height.</li>
          <li>Go to <strong>Climb Weight Limit</strong> (record A).</li>
          <li>Across: <strong>Surface</strong> → <strong>Slope</strong> → <strong>Wind</strong> → <strong>Weight/TODA</strong> to solve unknown.</li>
          <li>Limiting TOW = min(<em>Performance chain</em>, A).</li>
        </ul>

        <h3 id="perf-landing">Landing Charts & Echo-type Notes</h3>
        <ul class="check">
          <li>Cessna-type landing: often only short-dry/sealed penalties; weight effect small (fixed approach speed; friction ↑).</li>
          <li><strong>Echo (CASA workbook):</strong> T/O factor <strong>1.22</strong>; LNDG factor <strong>1.26</strong>. Max X-wind often <strong>20 kt</strong> (verify chart).</li>
          <li>Use <strong>NIL/ACTUAL</strong> wind for landing unless the problem explicitly authorises forecast.</li>
          <li>If AFM lacks factors, apply <strong>AC 91-02 v1.1</strong> recommendations (≤2000 kg): e.g., Take-off Distance × <strong>1.15</strong>.</li>
        </ul>
      </section>

      <section class="card" id="wb">
        <h2>Weight & Balance (Alpha / Bravo / Charlie / Echo) <span class="badge">CG & Limits</span></h2>

        <h3 id="wb-alpha">Alpha — Index ‘run-down’</h3>
        <ul class="check">
          <li>Mark <strong>BEW</strong> and index on the top scale.</li>
          <li>Enter load items by weight; step the vertical line per station indices.</li>
          <li>Drop to <em>Rear Baggage</em>, then to CG envelope to intersect <strong>ZFW</strong>/<strong>TOW</strong> horizontals.</li>
          <li>Both ZFW & TOW must lie within the envelope; re-distribute if outside. Never exceed system max TOW.</li>
        </ul>

        <h3 id="wb-bravo">Bravo — Weight & Moment (lb·in/1000)</h3>
        <ul class="check">
          <li>Sum <strong>W</strong> and <strong>M</strong> (use loading graph or calculator).</li>
          <li>Plot total <strong>W</strong> vs total <strong>M</strong> on Normal/Utility CG envelope.</li>
          <li>Respect per-station moment limits and baggage/cargo maxima.</li>
        </ul>

        <h3 id="wb-charlie">Charlie — Index Units (kg·mm/100)</h3>
        <ul class="check">
          <li>Sum weights and <strong>IU</strong>; compute CG(mm) = <strong>(IU × 100) / W</strong>.</li>
          <li>Check against the Charlie envelope (Normal vs Utility) at <strong>ZFW</strong> and <strong>TOW</strong>.</li>
          <li>Use provided IU tables for Fuel/Oil/Occupants/Baggage (Baggage ARM often ~4210 mm; Fuel ARM ~2950 mm).</li>
        </ul>

        <h3 id="wb-echo">Echo — Moment Index & Flexible Cabin</h3>
        <ul class="check">
          <li>Sum <strong>Total Moment Index</strong> and <strong>Gross Weight</strong> by station chart.</li>
          <li>Plot on Echo CG envelope; CG must stay within shaded area for <strong>ZFW/TOW/LW</strong>.</li>
          <li>Seat removal (~5 kg each): adjust BEW & Index; max ~82 kg may be loaded in place of a seat (per station note).</li>
          <li>Know MTOW/MLW/Max ZFW and MAC data (LE offset & chord) to convert mm → <strong>%MAC</strong> when required.</li>
        </ul>

        <h3 id="wb-traps">W&B Quick Traps</h3>
        <ul class="check">
          <li>Watch sign/direction on index scales (left vs right).</li>
          <li>Use the correct index scaling (kg/mm vs lb/in).</li>
          <li>Normal vs Utility envelopes differ; aerobatics may require Utility (Bravo).</li>
          <li><strong>ZFW</strong> limits protect wing-root bending (wing fuel doesn’t increase bending like cabin weight).</li>
        </ul>
      </section>

      <section class="card" id="climb-cruise-descent">
        <h2>Climb, Cruise & Descent <span class="badge">Performance & Fuel</span></h2>
        <ul class="check">
          <li>From charts/tables derive time, speed, distance, ROC/ROD, fuel flow/quantity; set appropriate power for each phase.</li>
          <li><strong>Rules:</strong> IAS → TAS (≤10,000 ft): ≈ IAS + <strong>2% per 1000 ft</strong>. 1 kt ≈ <strong>100 ft/min</strong> (gradient math). Climb gradient % = ROC ÷ (GS × 100).</li>
          <li><strong>Range & Endurance:</strong> Best endurance at <em>min power required</em>; best range where TAS/fuel flow maximises.</li>
          <li><strong>SAR</strong> = TAS per fuel unit; <strong>SGR</strong> = GS per fuel unit (accounts for wind).</li>
        </ul>

        <h3 id="fuel-policy">Fuel Planning & Policy</h3>
        <ul class="check">
          <li>Taxi, Trip (climb+cruise+descent), Holding, Alternate, Final Reserve, (Part 135) Contingency, Margin.</li>
          <li>Part 91 vs Part 135: contingency is required under Part 135 (operator) but not Part 91 unless specified. Always protect <strong>Final Reserve</strong>.</li>
        </ul>

        <h3 id="etp-pnr">ETP & PNR</h3>
        <ul class="check">
          <li><strong>ETP (Equi-Time Point):</strong> time-based — continue vs return time equal (use GS out/back).</li>
          <li><strong>PNR (Point of No Return):</strong> fuel-based — beyond PNR you cannot return with required reserves.</li>
          <li>For twins, consider OEI TAS & fuel flow for PNR. Draw a picture; clarify if problem is ‘cruise-only’ or whole route. Beware different winds each way.</li>
        </ul>
      </section>

      <section class="card" id="exam-strategy">
        <h2>Exam Strategy & Error-Proofing <span class="badge">Tactics</span></h2>
        <ul class="check">
          <li>Read the stem carefully: Part 91 or Part 135? Domestic vs international forecast windows? NIL wind or actual?</li>
          <li>Use AFM/POH factors first; if none, apply <strong>AC 91-02</strong> recommendations for light aircraft.</li>
          <li>Always check the <strong>climb-weight limit</strong> gate on T/O charts.</li>
          <li>For landings, don’t use forecast wind unless authorised — prefer <strong>NIL/actual</strong>.</li>
          <li>Keep your conversion crib: US gal↔L↔kg; lb↔kg.</li>
        </ul>
      </section>

      <section class="card" id="quickref">
        <h2>Quick Reference — Conversions & Checklists <span class="badge">1-page cram</span></h2>
        <div class="kv">
          <div>
            <h3>Fuel & Mass</h3>
            <table>
              <thead><tr><th>Item</th><th>Relation</th></tr></thead>
              <tbody>
                <tr><td>Avgas SG</td><td>0.72 kg/L</td></tr>
                <tr><td>1 US gal</td><td>3.785 L ≈ 2.72 kg</td></tr>
                <tr><td>1 L</td><td>0.72 kg ≈ 0.264 US gal</td></tr>
                <tr><td>1 lb</td><td>0.454 kg</td></tr>
                <tr><td>1 kt</td><td>≈100 ft/min (gradient calc)</td></tr>
              </tbody>
            </table>
          </div>
          <div>
            <h3>Atmospherics</h3>
            <table>
              <thead><tr><th>Conversion</th><th>Rule</th></tr></thead>
              <tbody>
                <tr><td>PH from QNH</td><td>PH = (1013 − QNH) × 30 + Elev</td></tr>
                <tr><td>ISA lapse</td><td>−2°C / 1000 ft</td></tr>
                <tr><td>DA adjust</td><td>±120 ft per °C (from ISA)</td></tr>
                <tr><td>IAS→TAS (≤10k ft)</td><td>≈ +2% per 1000 ft</td></tr>
              </tbody>
            </table>
          </div>
        </div>

        <div class="kv">
          <div>
            <h3>Cessna-type Take-off — Checklist</h3>
            <ul class="check">
              <li>Compute PH & Shade Temp.</li>
              <li>Run PH → Temp → Slope → Wind ⇒ weight or TODR.</li>
              <li>Continue to TODA & Surface for TODR if required.</li>
              <li>Check Climb Weight Limit: choose lesser weight.</li>
              <li>Check crosswind ≤ chart limit.</li>
            </ul>
          </div>
          <div>
            <h3>Linear Take-off — Checklist</h3>
            <ul class="check">
              <li>Shade Temp → Pressure Height → Climb Limit (record A).</li>
              <li>Across: Surface → Slope → Wind → Weight/TODA to solve.</li>
              <li>Limiting TOW = min(Performance chain, A).</li>
            </ul>
          </div>
        </div>

        <div class="kv">
          <div>
            <h3>Landing — Checklist</h3>
            <ul class="check">
              <li>Use NIL/actual wind; don’t use forecast unless authorised.</li>
              <li>Apply slope and PH/Temp; read LDR or MLW (Echo).</li>
              <li>Check structural MLW and any approach speed requirement.</li>
            </ul>
          </div>
          <div>
            <h3>W&B — Quick Checks</h3>
            <ul class="check">
              <li><strong>Alpha:</strong> index run-down → ZFW/TOW on envelope.</li>
              <li><strong>Bravo:</strong> sum W & M; plot on Normal/Utility envelope.</li>
              <li><strong>Charlie:</strong> IU table; CG = (IU×100)/W; check envelope.</li>
              <li><strong>Echo:</strong> sum Moment Index; adjust for seat removal/cabin cargo; check ZFW/TOW/LW.</li>
            </ul>
          </div>
        </div>
      </section>

      <footer>
        Last updated: 2025-10-07 • © Yohann Aviation Note
      </footer>
    </main>
  </div>

  <button class="topbtn" id="topbtn" title="Back to top" aria-label="Back to top">
    <svg width="22" height="22" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="18 15 12 9 6 15"></polyline></svg>
  </button>

  <script>
    (function(){
      // Go Back button: locale-aware navigation
      document.getElementById('go-back')?.addEventListener('click', function() {
        const lang = navigator.language || navigator.userLanguage || '';
        // zh, zh-CN, zh-TW etc. all treated as Chinese
        if (/^zh\b/i.test(lang)) {
          location.href = 'theory.html';
        } else {
          location.href = 'theory_en.html';
        }
      });

      // Build a simple search index (by section)
      const q = document.getElementById('q');
      const sections = Array.from(document.querySelectorAll('main section.card'));
      const sectionIndex = sections.map((el) => ({
        el,
        text: el.textContent.toLowerCase().replace(/\s+/g,' ')
      }));
      function unwrapMarks(root){
        root.querySelectorAll('mark.hl').forEach(m => {
          const t = document.createTextNode(m.textContent);
          m.replaceWith(t);
        });
      }
      function highlightTerm(root, term){
        const walker = document.createTreeWalker(root, NodeFilter.SHOW_TEXT, null);
        const nodes = [];
        while(walker.nextNode()) nodes.push(walker.currentNode);
        nodes.forEach(node => {
          const idx = node.nodeValue.toLowerCase().indexOf(term);
          if(idx >= 0){
            const span = document.createElement('span');
            const before = node.nodeValue.slice(0, idx);
            const match = node.nodeValue.slice(idx, idx + term.length);
            const after  = node.nodeValue.slice(idx + term.length);
            span.append(before, Object.assign(document.createElement('mark'), {className:'hl', textContent: match}), after);
            node.parentNode.replaceChild(span, node);
          }
        });
      }
      function expandDetailsIfHighlighted(sec){
        sec.querySelectorAll('details').forEach(d => {
          if(d.querySelector('mark.hl')) d.open = true;
        });
      }

      let composing = false; let raf = 0;
      const runSearch = () => {
        cancelAnimationFrame(raf);
        raf = requestAnimationFrame(() => {
          const term = (q.value || '').trim().toLowerCase();
          const main = document.querySelector('main');
          unwrapMarks(main);
          if (!term) { sections.forEach(s => s.style.display = ''); return; }
          sectionIndex.forEach(({el, text}) => { el.style.display = text.includes(term) ? '' : 'none'; });
          sections.forEach(sec => { if (sec.style.display !== 'none') highlightTerm(sec, term); });
          sections.forEach(sec => { if (sec.style.display !== 'none') expandDetailsIfHighlighted(sec); });
        });
      };
      q && q.addEventListener('compositionstart', () => composing = true);
      q && q.addEventListener('compositionend', () => { composing = false; runSearch(); });
      q && q.addEventListener('input', () => { if (!composing) runSearch(); });
      q && q.addEventListener('keydown', (e) => { if (e.key === 'Escape') { q.value = ''; runSearch(); } });

      // Mobile TOC dropdown
      const tocSelect = document.getElementById('toc-select');
const tocLinks = Array.from(document.querySelectorAll('nav.toc a[href^="#"]'));
    })();
  </script>
  <!-- Content reorganised from CFPA_Theory_Exam_Tutorial_v1.0.docx; UI adapted from CADA.html. -->
</body>
</html>
